<mat-toolbar color="primary">

  <button mat-button [routerLink]="['/home']"><mat-icon>home</mat-icon></button>

  <!-- This fills the remaining space of the current row -->
  <!--<span class="fill-remaining-space">-->
    <!--<form>-->
      <!--<div id="search-form">-->
        <!--<button type="submit" mat-button style="float: right"><mat-icon>search</mat-icon> Search</button>-->
        <!--<div class="form-group" style="overflow: hidden; padding-right: .5em;">-->
          <!--<input class="form-control" type="text" placeholder="Search..." style="width: 100%;" />-->
        <!--</div>​-->
      <!--</div>-->
    <!--</form>-->
  <!--</span>-->

  <div fxLayout="row" fxShow="false" fxShow.gt-sm style="width: 100%">

    <form id="search-form">
      <div>
        <button type="submit" mat-button [routerLink]="['/search/results']" style="float: right"><mat-icon>search</mat-icon> Search</button>
        <div class="form-group" style="overflow: hidden; padding-right: .5em;">
          <input class="form-control" type="text" placeholder="Search..." style="width: 100%;" />
        </div>​
      </div>
    </form>

    <div class="menu-buttons">
      <button mat-button *ngIf="!this.authService.loggedIn()" [routerLink]="['/register']"><mat-icon>person_add</mat-icon> Register</button>
      <button mat-button *ngIf="!this.authService.loggedIn()" [routerLink]="['/login']"><mat-icon>person</mat-icon> LogIn</button>
      <button mat-button *ngIf="this.authService.loggedIn()" [routerLink]="['/profile']"><mat-icon>account_circle</mat-icon> Profile</button>
      <button mat-button *ngIf="this.authService.loggedIn()" (click)="onLogoutClick()"><mat-icon>person_outline</mat-icon> LogOut</button>
    </div>


  </div>

  <button mat-button [mat-menu-trigger-for]="menu" fxHide="false" fxHide.gt-sm class="menu-buttons">
    <mat-icon>menu</mat-icon>
  </button>

</mat-toolbar>

<mat-menu x-position="before" #menu="matMenu">
  <form mat-menu-item>
    <div>
      <button type="submit" mat-button style="float: right"><mat-icon>search</mat-icon></button>
      <div class="form-group" style="overflow: hidden; padding-right: .5em;">
        <input class="form-control" type="text" placeholder="Search..." style="width: 100%;" />
      </div>​
    </div>
  </form>
  <button mat-menu-item *ngIf="!this.authService.loggedIn()" [routerLink]="['/register']"><mat-icon>person_add</mat-icon> Register</button>
  <button mat-menu-item *ngIf="!this.authService.loggedIn()" [routerLink]="['/login']"><mat-icon>person</mat-icon> LogIn</button>
  <button mat-menu-item *ngIf="this.authService.loggedIn()" [routerLink]="['/profile']"><mat-icon>account_circle</mat-icon> Profile</button>
  <button mat-menu-item *ngIf="this.authService.loggedIn()" (click)="onLogoutClick()"><mat-icon>person_outline</mat-icon> LogOut</button>
</mat-menu>
