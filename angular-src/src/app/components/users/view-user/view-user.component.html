<div class="container">
  <mat-card style="margin: 15px 0">
    <div *ngIf="user">
      <mat-grid-list cols="8">
        <mat-grid-tile colspan="1">
          <img *ngIf="!user.image" src="https://www.bighandi.com/img/profile-demo.png" class="profPic">
          <!--<img *ngIf="user.image" [src]="'http://localhost:3000/images/' + user.image" class="profPic">-->
          <img *ngIf="user.image" [src]="'images/' + user.image" class="profPic">
        </mat-grid-tile>

        <mat-grid-tile colspan="6">
          <div id="profInfo">
            <h1>{{user.name}}</h1>
            <mat-divider></mat-divider>
            <p>{{user.username}}</p>
            <p>{{user.email}}</p>
          </div>
        </mat-grid-tile>

        <mat-grid-tile colspan="1" *ngIf="user.avgRating">
          <div style="width: 100%; height: 100%">
            <p>Rating: <span style="font-weight: bolder">{{user.avgRating}}</span>/5</p>
          </div>
        </mat-grid-tile>
      </mat-grid-list>

      <mat-tab-group>
        <mat-tab label="User Info">
          <div class="row">

            <div class="col-3 type">
              Name
            </div>

            <div class="col-9 property">
              {{user.name}}
            </div>

          </div>

          <mat-divider></mat-divider>

          <div class="row">

            <div class="col-3 type">
              Username
            </div>

            <div class="col-9 property">
              {{user.username}}
            </div>

          </div>

          <mat-divider></mat-divider>

          <div class="row">

            <div class="col-3 type">
              Email
            </div>

            <div class="col-9 property">
              {{user.email}}
            </div>

          </div>

          <mat-divider *ngIf="user.telephone"></mat-divider>

          <div class="row" *ngIf="user.telephone">

            <div class="col-3 type">
              Telephone Number
            </div>

            <div class="col-9 property">
              +94 {{user.telephone}}
            </div>

          </div>

          <mat-divider *ngIf="user.mobile"></mat-divider>

          <div class="row" *ngIf="user.mobile">

            <div class="col-3 type">
              Mobile Number
            </div>

            <div class="col-9 property">
              +94 {{user.mobile}}
            </div>

          </div>

          <mat-divider *ngIf="user.address"></mat-divider>

          <div class="row" *ngIf="user.address">

            <div class="col-3 type">
              Address
            </div>

            <div class="col-9 property">
              {{user.address}}
            </div>

          </div>
        </mat-tab>

        <div *ngIf="this.user.userType === 'seller'">
          <mat-tab label="Selling Items">
            <mat-grid-list cols="4" rowHeight="450px">
              <div *ngIf="sellingItemsList.length > 0">
                <mat-grid-tile *ngFor="let item of this.sellingItemsList">
                  <mat-card style="margin: 10px; text-align: center">
                    <div *ngIf="!item.image">
                      <img mat-card-image src="https://www.jainsusa.com/images/store/landscape/not-available.jpg"
                           style="padding: 5px">
                    </div>

                    <div *ngIf="item.image">
                      <!--<img mat-card-image [src]="'http://localhost:3000/images/' + item.image" style="padding: 5px">-->
                      <img mat-card-image [src]="'images/' + item.image" style="padding: 5px">
                    </div>
                    <mat-card-header>
                      <div style="width: 100%; margin-left: -15px">
                        <mat-card-title><strong>{{item.name}}</strong></mat-card-title>
                        <mat-card-subtitle>{{item.category}}</mat-card-subtitle>
                      </div>
                    </mat-card-header>
                    <mat-divider></mat-divider>
                    <mat-card-content style="margin-top: 10px">
                      <p>Rs. {{item.price}}.00</p>
                    </mat-card-content>
                    <mat-card-actions>
                      <button mat-button color="primary" style="width: 100%;" (click)="goToItem(item._id)">Details
                      </button>
                    </mat-card-actions>
                  </mat-card>
                </mat-grid-tile>
              </div>

              <div *ngIf="sellingItemsList.length === 0" style="width: 100%; text-align: center; margin: 50px 0;">
                <h4>The seller has no items for sale</h4>
              </div>
            </mat-grid-list>
          </mat-tab>

          <mat-tab label="Selling Services">
            <mat-grid-list cols="4" rowHeight="400px">
              <div *ngIf="sellingServicesList.length > 0">
                <mat-grid-tile *ngFor="let service of this.sellingServicesList">
                  <mat-card style="margin: 10px; text-align: center">
                    <div *ngIf="!service.image">
                      <img mat-card-image src="https://www.jainsusa.com/images/store/landscape/not-available.jpg"
                           style="padding: 5px">
                    </div>

                    <div *ngIf="service.image">
                      <!--<img mat-card-image [src]="'http://localhost:3000/images/' + service.image" style="padding: 5px">-->
                      <img mat-card-image [src]="'images/' + service.image" style="padding: 5px">
                    </div>
                    <mat-card-header>
                      <div style="width: 100%; margin-left: -15px">
                        <mat-card-title><strong>{{service.name}}</strong></mat-card-title>
                        <mat-card-subtitle>{{service.category}}</mat-card-subtitle>
                      </div>
                    </mat-card-header>
                    <mat-divider></mat-divider>
                    <mat-card-content style="margin-top: 10px">
                      <p>Rs. {{service.price}}.00</p>
                    </mat-card-content>
                    <mat-card-actions>
                      <button mat-button color="primary" style="width: 100%;" (click)="goToService(service._id)">
                        Details
                      </button>
                    </mat-card-actions>
                  </mat-card>
                </mat-grid-tile>
              </div>

              <div *ngIf="sellingServicesList.length === 0" style="width: 100%; text-align: center; margin: 50px 0;">
                <h4>The seller has no services for sale</h4>
              </div>
            </mat-grid-list>
          </mat-tab>
        </div>
      </mat-tab-group>
    </div>
  </mat-card>
</div>
